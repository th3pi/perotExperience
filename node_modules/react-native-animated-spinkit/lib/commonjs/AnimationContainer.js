var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var React=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var AnimationContainer=function(_React$Component){(0,_inherits2.default)(AnimationContainer,_React$Component);function AnimationContainer(props){var _this;(0,_classCallCheck2.default)(this,AnimationContainer);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(AnimationContainer).call(this,props));_this.animatedValuesByKey={};_this.interpolationsByKey={};_this.startAnimation=function(){_this.animation.start();};_this.stopAnimation=function(){_this.animation.stop();for(var key in _this.animatedValuesByKey){_this.animatedValuesByKey[key].setValue(0);}};var initAnimation=props.initAnimation;var animationInitializersByKey=initAnimation();var animations=[];for(var key in animationInitializersByKey){var animationInitializer=animationInitializersByKey[key];var animationValue=new _reactNative.Animated.Value(0);_this.animatedValuesByKey[key]=animationValue;var _animationInitializer=animationInitializer(animationValue),animation=_animationInitializer.animation,values=_animationInitializer.values;animations.push(animation);_this.interpolationsByKey[key]=values;}if(animations.length===1){_this.animation=animations[0];}else{_this.animation=_reactNative.Animated.parallel(animations);}return _this;}(0,_createClass2.default)(AnimationContainer,[{key:"componentDidMount",value:function componentDidMount(){this.startAnimation();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){var animating=this.props.animating;if(animating!==prevProps.animating){if(animating){this.startAnimation();}else{this.stopAnimation();}}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.animation.stop();}},{key:"render",value:function render(){var children=this.props.children;return children?children(this.interpolationsByKey):null;}}]);return AnimationContainer;}(React.Component);exports.default=AnimationContainer;AnimationContainer.defaultProps={animating:true};
//# sourceMappingURL=AnimationContainer.js.map